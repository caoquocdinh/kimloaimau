<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kim loại màu và Hợp kim màu</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            padding-bottom: 30px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(to right, #2c3e50, #4a6491);
            color: white;
            padding: 25px 0;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1611095772763-5b0d0b7b0b1b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80') center/cover;
            opacity: 0.1;
        }
        
        .header h1 {
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            margin-bottom: 0;
            position: relative;
        }
        
        .header i {
            margin-right: 15px;
            color: #3498db;
        }
        
        #tree-container {
            width: 100%;
            height: 750px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #e0e0e0;
            position: relative;
            overflow: hidden;
        }
        
        #info-panel {
            border: 1px solid #dee2e6;
            padding: 25px;
            background-color: white;
            border-radius: 12px;
            min-height: 400px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
        }
        
        #info-panel:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }
        
        .info-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
        }
        
        .info-title i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .node circle {
            stroke-width: 3px;
            stroke-opacity: 0.8;
            transition: all 0.2s ease;
            cursor: pointer;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .node circle:hover {
            stroke-width: 4px;
            r: 16px;
        }
        
        .node text {
            font: 14px 'Segoe UI', sans-serif;
            font-weight: 600;
            fill: #333;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .node text:hover {
            font-weight: 700;
            fill: #2c3e50;
        }
        
        .link {
            fill: none;
            stroke: #95a5a6;
            stroke-width: 2px;
            stroke-opacity: 0.6;
        }
        
        .copper { fill: #e74c3c; stroke: #c0392b; }
        .copper-alloy { fill: #e67e22; stroke: #d35400; }
        .aluminum { fill: #7f8c8d; stroke: #34495e; }
        .aluminum-alloy { fill: #3498db; stroke: #2980b9; }
        .properties { fill: #9b59b6; stroke: #8e44ad; }
        .application { fill: #2ecc71; stroke: #27ae60; }
        .symbol { fill: #f1c40f; stroke: #f39c12; }
        .root-node { fill: #2c3e50; stroke: #1a2530; }
        
        .info-content {
            line-height: 1.7;
            font-size: 16px;
        }
        
        .info-content ul {
            padding-left: 25px;
            margin: 15px 0;
        }
        
        .info-content li {
            margin-bottom: 8px;
        }
        
        /* Cải tiến hiển thị hình ảnh */
        .image-container {
            position: relative;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            background: #f5f5f5;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #eee;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .info-image {
            max-width: 100%;
            max-height: 400px;
            object-fit: contain;
            display: block;
            border-radius: 8px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: scale(0.95);
        }
        
        .info-image.loaded {
            opacity: 1;
            transform: scale(1);
        }
        
        .image-fallback {
            background: linear-gradient(45deg, #f5f5f5 25%, #e0e0e0 50%, #f5f5f5 75%);
            background-size: 200% 200%;
            animation: gradientBG 2s ease infinite;
            width: 100%;
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #777;
            font-weight: bold;
            text-align: center;
            padding: 20px;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50% }
            50% { background-position: 100% 50% }
            100% { background-position: 0% 50% }
        }
        
        .loading-spinner {
            position: absolute;
            color: #3498db;
            font-size: 24px;
        }

        /* Cải tiến hiển thị video */
        .video-poster-container {
            position: relative;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            background: #f5f5f5;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 1px solid #eee;
            transition: all 0.3s ease;
        }
        
        .video-poster-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }
        
        .video-poster {
            width: 100%;
            height: auto;
            max-height: 400px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }
        
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            color: white;
            text-shadow: 0 0 15px rgba(0,0,0,0.7);
            opacity: 0.9;
            transition: all 0.3s ease;
            background: rgba(0,0,0,0.3);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .video-poster-container:hover .play-button {
            transform: translate(-50%, -50%) scale(1.1);
            color: #ff0000;
            background: rgba(0,0,0,0.5);
        }
        
        .video-link {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 12px 25px;
            border-radius: 6px;
            margin-top: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .video-link:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .video-link i {
            margin-right: 8px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding: 15px;
            border-top: 1px solid #eee;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.2);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .zoom-controls {
            position: absolute;
            top: 130px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 10;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: #2c3e50;
            transition: all 0.2s ease;
        }
        
        .zoom-btn:hover {
            background: #f8f9fa;
            transform: scale(1.1);
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        }
        
        .quiz-panel {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-top: 20px;
        }
        
        .quiz-panel h5 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .quiz-panel h5 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .quiz-option {
            display: block;
            margin-bottom: 8px;
            padding: 10px 15px;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #dee2e6;
        }
        
        .quiz-option:hover {
            background-color: #e9f7fe;
            border-color: #3498db;
        }
        
        .quiz-option.selected {
            background-color: #d1ecf1;
            border-color: #117a8b;
        }
        
        .quiz-option input {
            margin-right: 10px;
        }
        
        .quiz-submit {
            margin-top: 15px;
            background-color: #28a745;
            border: none;
            padding: 10px 25px;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .quiz-submit:hover {
            background-color: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-weight: 500;
        }
        
        .quiz-correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .quiz-incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .node-highlight circle {
            stroke-width: 5px;
            stroke: #ff5722;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { r: 12; }
            50% { r: 16; }
            100% { r: 12; }
        }
        
        .search-container {
            margin-bottom: 20px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .search-results {
            max-height: 250px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-top: 5px;
            background: white;
            display: none;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .search-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: all 0.2s;
        }
        
        .search-item:hover {
            background-color: #f0f8ff;
        }
        
        .search-item:last-child {
            border-bottom: none;
        }
        
        .search-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .search-header h2 {
            font-size: 1.8rem;
            color: #2c3e50;
        }
        
        @media (max-width: 992px) {
            #tree-container {
                height: 550px;
            }
            
            .zoom-controls {
                top: 110px;
                right: 15px;
            }
            
            .info-image, .video-poster {
                max-height: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            #tree-container {
                height: 450px;
            }
            
            .node text {
                font-size: 12px;
            }
            
            .info-image, .video-poster {
                max-height: 250px;
            }
            
            .play-button {
                font-size: 36px;
                width: 60px;
                height: 60px;
            }
            
            .search-container {
                max-width: 100%;
            }
        }
        
        .info-section {
            margin-bottom: 25px;
        }
        
        .info-section-title {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .info-section-title i {
            margin-right: 8px;
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container text-center">
            <h1><i class="fas fa-atom"></i> Kim loại màu và Hợp kim màu</h1>
        </div>
    </div>

    <div class="container">
        <div class="search-header">
            <h2><i class="fas fa-diagram-project"></i> Sơ đồ tương tác</h2>
            <div class="search-container">
                <div class="input-group">
                    <input type="text" id="search-input" class="form-control" placeholder="Tìm kiếm theo tên...">
                    <button class="btn btn-primary" id="search-btn"><i class="fas fa-search"></i> Tìm kiếm</button>
                </div>
                <div class="search-results" id="search-results"></div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #2c3e50;"></div>
                <span>Gốc cây</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e74c3c;"></div>
                <span>Đồng</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e67e22;"></div>
                <span>Hợp kim đồng</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #7f8c8d;"></div>
                <span>Nhôm</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #3498db;"></div>
                <span>Hợp kim nhôm</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #9b59b6;"></div>
                <span>Tính chất</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #2ecc71;"></div>
                <span>Ứng dụng</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f1c40f;"></div>
                <span>Ký hiệu</span>
            </div>
        </div>
        
        <div id="tree-container">
            <div class="zoom-controls">
                <div class="zoom-btn" id="zoom-in"><i class="fas fa-search-plus"></i></div>
                <div class="zoom-btn" id="zoom-out"><i class="fas fa-search-minus"></i></div>
                <div class="zoom-btn" id="reset-view"><i class="fas fa-sync-alt"></i></div>
            </div>
        </div>
        
        <div id="info-panel">
            <h3 class="info-title"><i class="fas fa-info-circle"></i> Thông tin chi tiết</h3>
            <div class="text-center">
                <p class="lead">Nhấp vào một nút trên sơ đồ để xem thông tin, hình ảnh hoặc video</p>
                <i class="fas fa-arrow-down" style="font-size: 24px; color: #3498db;"></i>
            </div>
        </div>
    </div>
    
    <div class="footer container">
        <p>© 2025 Sơ đồ tương tác Kim loại màu và Hợp kim màu - Phục vụ giảng dạy và học tập</p>
    </div>

    <script>
        // Dữ liệu cây
        const treeData = {
            "name": ["Kim loại màu", "và Hợp kim màu"],
            "class": "root-node",
            "info": "Chào mừng bạn đến với sơ đồ tương tác về Kim loại màu và Hợp kim màu. Sơ đồ này cung cấp thông tin chi tiết về các loại kim loại màu phổ biến như đồng, nhôm và các hợp kim của chúng.<br><br>Hãy nhấp vào các nút trên sơ đồ để khám phá tính chất, ứng dụng và ký hiệu của từng loại vật liệu.",
            "quiz": {
                "question": "Kim loại màu thường được phân loại dựa trên đặc điểm gì?",
                "options": [
                    "Màu sắc bề mặt",
                    "Khả năng chống ăn mòn",
                    "Khối lượng riêng",
                    "Độ dẫn điện"
                ],
                "correctIndex": 0,
                "explanation": "Kim loại màu được phân loại chủ yếu dựa trên màu sắc đặc trưng của chúng như đồng (đỏ), nhôm (trắng bạc)..."
            },
            "children": [
                {
                    "name": "Đồng",
                    "class": "copper",
                    "info": "Đồng là kim loại dẻo có độ dẫn điện và dẫn nhiệt cao, được sử dụng rộng rãi trong các ngành công nghiệp điện, xây dựng và chế tạo.",
                    "quiz": {
                        "question": "Đồng có nhiệt độ nóng chảy là bao nhiêu?",
                        "options": [
                            "660°C",
                            "1083°C",
                            "1510°C",
                            "327°C"
                        ],
                        "correctIndex": 1,
                        "explanation": "Đồng có nhiệt độ nóng chảy khá cao là 1083°C, cao hơn nhôm (660°C) nhưng thấp hơn sắt (1538°C)."
                    },
                    "children": [
                        {
                            "name": "Tính chất",
                            "class": "properties",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-flask'></i> Tính chất của đồng:</div><ul><li>Màu đỏ đặc trưng (đồng đỏ)</li><li>Khối lượng riêng: 8.94 g/cm³</li><li>Dẫn điện, dẫn nhiệt cao</li><li>Chống ăn mòn tốt</li><li>Chống mài mòn tốt</li><li>Nhiệt độ nóng chảy: 1083°C</li><li>Độ dẻo cao, độ bền thấp (σb=160N/mm², HB=40)</li><li>Tính công nghệ kém</li></ul></div>",
                            "image": "https://raw.githubusercontent.com/caoquocdinh/anhkimloaimau/refs/heads/main/pure%20copper.jpg",
                            "video": "https://www.youtube.com/shorts/gYerEfIdaeY",
                            "quiz": {
                                "question": "Tính chất nào KHÔNG phải của đồng nguyên chất?",
                                "options": [
                                    "Độ dẻo cao",
                                    "Độ bền kéo lớn",
                                    "Dẫn điện tốt",
                                    "Chống ăn mòn"
                                ],
                                "correctIndex": 1,
                                "explanation": "Đồng nguyên chất có độ bền kéo thấp (khoảng 160N/mm²) nên thường được sử dụng dưới dạng hợp kim để tăng cơ tính."
                            }
                        },
                        {
                            "name": "Ứng dụng",
                            "class": "application",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-industry'></i> Ứng dụng của đồng:</div><ul><li>Sản xuất dây điện, que hàn</li><li>Bo mạch điện tử, ống chân không</li><li>Tản nhiệt, chất bán dẫn</li><li>Kết nối điện tử, điện cực</li><li>Rơ le điện, nam châm điện</li><li>Ống nước, hệ thống ống dẫn</li><li>Trong kiến trúc và nghệ thuật</li></ul></div><p>Đồng nguyên chất có cơ tính thấp nên thường dùng ở dạng hợp kim.</p>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/copper%20application.jpg?raw=true",
                            "quiz": {
                                "question": "Ứng dụng chính của đồng nguyên chất là gì?",
                                "options": [
                                    "Chế tạo máy bay",
                                    "Sản xuất dây điện",
                                    "Làm khung xe hơi",
                                    "Sản xuất vũ khí"
                                ],
                                "correctIndex": 1,
                                "explanation": "Nhờ tính dẫn điện tốt, đồng nguyên chất được sử dụng rộng rãi trong sản xuất dây điện và các linh kiện điện tử."
                            }
                        },
                        {
                            "name": "Ký hiệu",
                            "class": "symbol",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-tag'></i> Ký hiệu đồng theo TCVN 5753:1993:</div><ul><li>Cu + % hàm lượng đồng</li><li>C: catốt</li><li>L: thỏi hỏa tinh luyện</li><li>Kh: thỏi khử oxy</li></ul></div><div class='info-section'><div class='info-section-title'><i class='fas fa-list'></i> Ví dụ:</div><ul><li>Cu 99,99 C: ≥99.99% Cu</li><li>Cu 99,9 Kh: ≥99.90% Cu</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/copper%20vietnam%20standard.jpg?raw=true",
                            "quiz": {
                                "question": "Ký hiệu Cu 99,99 C có nghĩa là gì?",
                                "options": [
                                    "Đồng có 99.99% tạp chất",
                                    "Đồng nguyên chất ≥99.99% dạng catốt",
                                    "Hợp kim đồng chứa 99.99% đồng",
                                    "Đồng có độ tinh khiết thấp"
                                ],
                                "correctIndex": 1,
                                "explanation": "Ký hiệu này chỉ đồng nguyên chất có độ tinh khiết ≥99.99% ở dạng catốt."
                            }
                        }
                    ]
                },
                {
                    "name": "Hợp kim đồng",
                    "class": "copper-alloy",
                    "info": "Hợp kim đồng bao gồm đồng thau (hợp kim đồng-kẽm) và đồng thanh (hợp kim đồng với các nguyên tố khác ngoài kẽm). Chúng được sử dụng rộng rãi trong công nghiệp do cải thiện được tính chất cơ học so với đồng nguyên chất.",
                    "quiz": {
                        "question": "Hợp kim đồng nào sau đây KHÔNG chứa kẽm?",
                        "options": [
                            "Latông",
                            "Brông thiếc",
                            "Đồng đỏ pha kẽm",
                            "Latông chì"
                        ],
                        "correctIndex": 1,
                        "explanation": "Brông thiếc là hợp kim đồng với thiếc, không chứa kẽm. Latông là hợp kim đồng-kẽm."
                    },
                    "children": [
                        {
                            "name": "Đồng thau (Latông)",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-coins'></i> Đồng thau (Latông):</div><ul><li>Hợp kim của đồng và kẽm</li><li>Có màu vàng sáng tùy theo hàm lượng kẽm</li><li>Độ dẻo cao, dễ gia công</li><li>Khả năng chống ăn mòn tốt</li><li>Được sử dụng trong trang trí, nhạc cụ, phụ kiện</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/brass.jpg?raw=true",
                            "video": "https://www.youtube.com/watch?v=tFjZfa79bv0",                            
                            "children": [
                                {
                                    "name": "Đồng thau đơn giản",
                                    "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-cog'></i> Đồng thau đơn giản:</div><ul><li>Hợp kim Cu và Zn (kẽm ≤ 45%)</li><li>Tính dẻo cao, dễ dập sâu</li><li>Dùng làm ống tản nhiệt, ống dẫn</li><li>Ví dụ: LCuZn10, LCuZn30</li><li>Ký hiệu: L + nguyên tố + % (TCVN 1659-75)</li></ul></div>",
                                    "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/CuZn%20brass%20alloy.jpg?raw=true",
                                    "quiz": {
                                        "question": "Thành phần chính của đồng thau đơn giản là gì?",
                                        "options": [
                                            "Đồng và thiếc",
                                            "Đồng và kẽm",
                                            "Đồng và nhôm",
                                            "Đồng và chì"
                                        ],
                                        "correctIndex": 1,
                                        "explanation": "Đồng thau đơn giản là hợp kim của đồng và kẽm với hàm lượng kẽm ≤ 45%."
                                    }
                                },
                                {
                                    "name": "Đồng thau phức tạp",
                                    "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-cogs'></i> Đồng thau phức tạp:</div><ul><li>Hợp kim Cu, Zn và Pb, Sn, Al, Ni</li><li>Pb tăng tính cắt gọt</li><li>Sn tăng chống ăn mòn</li><li>Al/Ni tăng cơ tính</li><li>Ví dụ: LCuZn29Sn1, LCuZn40Pb2</li><li>Ứng dụng: hàn vảy, ốc vít, thiết bị điện tử, vỏ đạn</li></ul></div>",
                                    "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/CuZnPb%20alloy.jpg?raw=true",
                                    "quiz": {
                                        "question": "Nguyên tố nào thường được thêm vào đồng thau để cải thiện khả năng gia công cắt gọt?",
                                        "options": [
                                            "Thiếc (Sn)",
                                            "Nhôm (Al)",
                                            "Chì (Pb)",
                                            "Niken (Ni)"
                                        ],
                                        "correctIndex": 2,
                                        "explanation": "Chì (Pb) được thêm vào để cải thiện khả năng gia công cắt gọt của đồng thau."
                                    }
                                }
                            ]
                        },
                        {
                            "name": "Đồng thanh (Brông)",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-hammer'></i> Đồng thanh:</div><ul><li>Hợp kim Cu với Sn, Al, Pb (trừ Zn)</li><li>Brông thiếc có cơ tính cao, chống ăn mòn, chịu mài mòn tốt</li><li>Dùng làm bạc lót, ổ trượt, bánh vít, lò xo</li><li>Ví dụ: BCuSn6, BCuSn4Zn4Pb4 (TCVN 1659-75)</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/bronze.jpg?raw=true",
                            "video": "https://www.youtube.com/watch?v=ysInnHOoouc",
                            "quiz": {
                                "question": "Brông thiếc thường được sử dụng để chế tạo gì?",
                                "options": [
                                    "Dây điện",
                                    "Bạc lót, ổ trượt",
                                    "Khung cửa sổ",
                                    "Vỏ điện thoại"
                                ],
                                "correctIndex": 1,
                                "explanation": "Nhờ tính chống mài mòn tốt, brông thiếc thường dùng làm bạc lót, ổ trượt trong các bộ phận máy móc."
                            }
                        }
                    ]
                },
                {
                    "name": "Nhôm",
                    "class": "aluminum",
                    "info": "Nhôm là kim loại nhẹ, dẫn điện và dẫn nhiệt tốt, có khả năng chống ăn mòn cao nhờ lớp oxit bảo vệ. Đây là kim loại phổ biến nhất trong vỏ Trái Đất.",
                    "quiz": {
                        "question": "Nhôm có khối lượng riêng là bao nhiêu?",
                        "options": [
                            "2.70 g/cm³",
                            "7.87 g/cm³",
                            "8.94 g/cm³",
                            "11.34 g/cm³"
                        ],
                        "correctIndex": 0,
                        "explanation": "Khối lượng riêng của nhôm là 2.70 g/cm³, chỉ bằng khoảng 1/3 khối lượng riêng của thép."
                    },
                    "children": [
                        {
                            "name": "Tính chất",
                            "class": "properties",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-flask'></i> Tính chất của nhôm:</div><ul><li>Khối lượng riêng nhỏ (2.7 g/cm³, ≈1/3 thép)</li><li>Dẫn điện, dẫn nhiệt cao</li><li>Chống ăn mòn tốt nhờ lớp Al₂O₃</li><li>Nhiệt độ nóng chảy thấp (660°C)</li><li>Dễ đúc nhưng co ngót nhiều (6%)</li><li>Độ dẻo cao, độ bền thấp</li><li>Có thể gia công nhiệt để tăng cơ tính</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/aluminium.jpg?raw=true",
                            "video": "https://www.youtube.com/watch?v=uIkWFPFrPfA",
                            "quiz": {
                                "question": "Tại sao nhôm có khả năng chống ăn mòn tốt?",
                                "options": [
                                    "Do có lớp mạ bảo vệ",
                                    "Do lớp oxit Al₂O₃ tự hình thành",
                                    "Do không phản ứng với oxy",
                                    "Do cấu trúc tinh thể đặc biệt"
                                ],
                                "correctIndex": 1,
                                "explanation": "Nhôm tạo ra một lớp oxit Al₂O₃ mỏng, bền vững trên bề mặt giúp bảo vệ nó khỏi sự ăn mòn."
                            }
                        },
                        {
                            "name": "Ứng dụng",
                            "class": "application",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-industry'></i> Ứng dụng của nhôm:</div><ul><li>Công nghiệp hàng không vũ trụ</li><li>Giao thông vận tải (ô tô, tàu hỏa)</li><li>Xây dựng (khung vòm, cửa sổ)</li><li>Dây dẫn điện (giảm trọng lượng 1,63 lần so với đồng)</li><li>Thùng chứa, bao bì thực phẩm</li><li>Giấy nhôm, thanh nẹp trang trí</li><li>Thiết bị điện tử, tản nhiệt</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/aluminum%20application.jpg?raw=true",
                            "quiz": {
                                "question": "Tại sao nhôm được ưa chuộng trong công nghiệp hàng không?",
                                "options": [
                                    "Giá thành rẻ",
                                    "Khả năng chịu nhiệt cao",
                                    "Trọng lượng nhẹ",
                                    "Màu sắc đẹp"
                                ],
                                "correctIndex": 2,
                                "explanation": "Nhôm có trọng lượng nhẹ (khối lượng riêng chỉ 2.7 g/cm³) giúp giảm trọng lượng máy bay, tiết kiệm nhiên liệu."
                            }
                        },
                        {
                            "name": "Ký hiệu",
                            "class": "symbol",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-tag'></i> Ký hiệu nhôm theo TCVN 5910-1995:</div><ul><li>Al + % hàm lượng nhôm</li><li>E: đặc tính điện đảm bảo</li></ul></div><div class='info-section'><div class='info-section-title'><i class='fas fa-list'></i> Ví dụ:</div><ul><li>Al99,7: ≥99.70% nhôm</li><li>E-Al99,7: đặc tính điện đảm bảo</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/aluminium%20symbol.jpg?raw=true",
                            "quiz": {
                                "question": "Ký hiệu E-Al99,7 có nghĩa là gì?",
                                "options": [
                                    "Nhôm có độ tinh khiết 99.7%",
                                    "Nhôm có đặc tính điện đảm bảo",
                                    "Hợp kim nhôm chứa 99.7% Al",
                                    "Nhôm dùng trong xây dựng"
                                ],
                                "correctIndex": 1,
                                "explanation": "Chữ 'E' trong ký hiệu chỉ loại nhôm có đặc tính điện đảm bảo, thường dùng trong ngành điện."
                            }
                        }
                    ]
                },
                {
                    "name": "Hợp kim nhôm",
                    "class": "aluminum-alloy",
                    "info": "Hợp kim nhôm có độ bền cao hơn nhôm nguyên chất, được phân loại thành hợp kim gia công áp lực và hợp kim đúc. Chúng được sử dụng trong nhiều lĩnh vực từ hàng không đến sản xuất đồ gia dụng.",
                    "quiz": {
                        "question": "Hợp kim nhôm nào sau đây có thể hóa bền bằng nhiệt luyện?",
                        "options": [
                            "Hợp kim Al-Mg",
                            "Hợp kim Al-Si",
                            "Hợp kim Al-Cu-Mg",
                            "Hợp kim Al-Mn"
                        ],
                        "correctIndex": 2,
                        "explanation": "Hợp kim Al-Cu-Mg (đuara) có thể được hóa bền bằng phương pháp nhiệt luyện (tôi và hóa già)."
                    },
                    "children": [
                        {
                            "name": "Hợp kim nhôm gia công áp lực",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-tools'></i> Hợp kim nhôm gia công áp lực:</div><ul><li>Dễ dàng gia công bằng phương pháp cán, kéo, dập</li><li>Có độ bền cao và tính dẻo tốt</li><li>Được sử dụng trong sản xuất tấm, thanh, dây</li><li>Ứng dụng trong công nghiệp ô tô, hàng không</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/wrought%20aluminum.png?raw=true",
                            "video": "https://www.youtube.com/watch?v=IISS9jwc7Jw",
                            "children": [
                                {
                                    "name": "Không hóa bền nhiệt luyện",
                                    "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-fire-extinguisher'></i> Không hóa bền nhiệt luyện:</div><ul><li>Hợp kim Al-Mn, Al-Mg</li><li>Al-Mn: cơ tính cao, hàn tốt, chống ăn mòn</li><li>Al-Mg: khối lượng riêng nhỏ, đàn hồi tốt</li><li>Dùng trong xây dựng</li><li>Ví dụ: AlMg2, E-AlMgSi</li></ul></div>",
                                    "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/non%20heatreatable%20wrought%20aluminum%20alloy.jpg?raw=true",
                                    "quiz": {
                                        "question": "Hợp kim Al-Mg thường được sử dụng trong lĩnh vực nào?",
                                        "options": [
                                            "Chế tạo động cơ máy bay",
                                            "Sản xuất dây cáp điện",
                                            "Khung cửa sổ, vách ngăn",
                                            "Chế tạo piston động cơ"
                                        ],
                                        "correctIndex": 2,
                                        "explanation": "Hợp kim Al-Mg có khả năng chống ăn mòn tốt và dễ hàn, thường dùng trong xây dựng như khung cửa sổ, vách ngăn."
                                    }
                                },
                                {
                                    "name": "Hóa bền nhiệt luyện",
                                    "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-fire'></i> Hóa bền nhiệt luyện:</div><ul><li>Hợp kim Al-Cu, Al-Cu-Mg (đuara)</li><li>Độ bền cao sau tôi, hóa già</li><li>Dùng trong máy bay, ô tô, tuabin</li><li>Ví dụ: AlCu4,5Mg0,5MnSi</li><li>Hàn và chống ăn mòn kém</li></ul></div>",
                                    "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/duralumin.jpg?raw=true",
                                    "quiz": {
                                        "question": "Hợp kim đuara (Al-Cu-Mg) thường được sử dụng trong ngành nào?",
                                        "options": [
                                            "Sản xuất đồ gia dụng",
                                            "Chế tạo máy bay",
                                            "Làm bao bì thực phẩm",
                                            "Sản xuất dây điện"
                                        ],
                                        "correctIndex": 1,
                                        "explanation": "Nhờ độ bền cao và tỷ lệ độ bền/trọng lượng tốt, đuara được sử dụng rộng rãi trong công nghiệp hàng không để chế tạo máy bay."
                                    }
                                }
                            ]
                        },
                        {
                            "name": "Hợp kim nhôm đúc",
                            "info": "<div class='info-section'><div class='info-section-title'><i class='fas fa-cube'></i> Hợp kim nhôm đúc:</div><ul><li>Hợp kim Al-Si, Al-Cu, Al-Mg</li><li>Ví dụ: AlSi7Cu2, AlMg5</li><li>Tính đúc cao</li><li>Dùng làm piston, tay biên, vỏ hộp tốc độ</li><li>Giòn, không gia công áp lực</li><li>Ký hiệu theo TCVN 1659-75</li></ul></div>",
                            "image": "https://github.com/caoquocdinh/anhkimloaimau/blob/main/cast%20aluminum%20alloy%20application.png?raw=true",
                            "video": "https://www.youtube.com/watch?v=Gg-pZZpuXCE",
                            "quiz": {
                                "question": "Tại sao hợp kim nhôm đúc thường chứa silic?",
                                "options": [
                                    "Để tăng độ dẫn điện",
                                    "Để cải thiện tính đúc",
                                    "Để giảm giá thành",
                                    "Để tăng độ bền kéo"
                                ],
                                "correctIndex": 1,
                                "explanation": "Silicon giúp cải thiện tính đúc của hợp kim nhôm, giảm co ngót và tăng tính lưu động khi rót khuôn."
                            }
                        }
                    ]
                }
            ]
        };

        // Kích thước và cấu hình ban đầu
        const width = 1200;
        const height = 720;
        let zoomLevel = 1;
        let transformX = 150;
        let transformY = 30;
        let nodesData = [];
        let currentTransform = d3.zoomIdentity;

        // Tạo SVG container
        const svg = d3.select("#tree-container")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .call(d3.zoom().on("zoom", (event) => {
                currentTransform = event.transform;
                svgGroup.attr("transform", event.transform);
            }))
            .on("dblclick.zoom", null);

        const svgGroup = svg.append("g")
            .attr("transform", `translate(${transformX}, ${transformY})`);

        // Tạo root hierarchy
        const root = d3.hierarchy(treeData);
        let nodeId = 0;
        root.descendants().forEach(node => {
            node.id = nodeId++;
            nodesData.push({
                id: node.id,
                name: Array.isArray(node.data.name) ? node.data.name.join(' ') : node.data.name,
                data: node.data
            });
        });

        // Cấu hình layout cây
        const treeLayout = d3.tree().size([height - 120, width - 200]);
        treeLayout(root);

        // Vẽ các đường kết nối
        svgGroup.selectAll(".link")
            .data(root.links())
            .enter()
            .append("path")
            .attr("class", "link")
            .attr("d", d3.linkHorizontal()
                .x(d => d.y)
                .y(d => d.x));

        // Vẽ các nút
        const nodes = svgGroup.selectAll(".node")
            .data(root.descendants())
            .enter()
            .append("g")
            .attr("class", "node")
            .attr("id", d => `node-${d.id}`)
            .attr("transform", d => `translate(${d.y},${d.x})`);

        // Vẽ hình tròn cho nút
        nodes.append("circle")
            .attr("r", d => d.depth === 0 ? 16 : 12)
            .attr("class", d => d.data.class || "")
            .on("click", (event, d) => {
                updateInfoPanel(d.data);
                highlightNode(d);
                centerNode(d);
            });

        // Vẽ văn bản cho nút (dòng đầu tiên)
        nodes.append("text")
            .attr("dy", d => d.depth === 0 ? "-0.7em" : ".35em")
            .attr("x", d => d.children ? -20 : 20)
            .style("text-anchor", d => d.children ? "end" : "start")
            .style("font-size", d => d.depth === 0 ? "16px" : "14px")
            .text(d => {
                if (d.depth === 0) {
                    return d.data.name[0]; // Dòng đầu tiên cho nút gốc
                }
                return d.data.name;
            });

        // Vẽ dòng thứ hai cho nút gốc
        nodes.filter(d => d.depth === 0).append("text")
            .attr("dy", "1.2em")
            .attr("x", d => d.children ? -20 : 20)
            .style("text-anchor", d => d.children ? "end" : "start")
            .style("font-size", "16px")
            .text(d => d.data.name[1]); // Dòng thứ hai cho nút gốc

        // Hàm lấy ảnh fallback
        function getFallbackImage(className, name) {
            const colors = {
                'copper': 'e74c3c',
                'copper-alloy': 'e67e22',
                'aluminum': '7f8c8d',
                'aluminum-alloy': '3498db',
                'properties': '9b59b6',
                'application': '2ecc71',
                'symbol': 'f1c40f',
                'root-node': '2c3e50'
            };
            const color = colors[className] || '3498db';
            return `https://via.placeholder.com/800x400/${color}/ffffff?text=${encodeURIComponent(name)}`;
        }

        // Cập nhật bảng thông tin
        async function updateInfoPanel(data) {
            const infoPanel = d3.select("#info-panel");
            
            // Ghép lại tên đầy đủ nếu là mảng
            const fullName = Array.isArray(data.name) 
                ? data.name.join(' ') 
                : data.name;
            
            let content = `<h3 class="info-title"><i class="fas fa-info-circle"></i> ${fullName}</h3>`;
            
            if (data.info) {
                content += `<div class="info-content">${data.info}</div>`;
            } else {
                content += `<p class="info-content">${data.children ? "Chọn một nút con để xem chi tiết" : "Chưa có thông tin chi tiết"}</p>`;
            }
            
            // Hiển thị hình ảnh
            if (data.image) {
                content += `<div class="image-container" id="current-image-container"></div>`;
            }
            
            // Hiển thị video với poster
            if (data.video) {
                const posterUrl = data.image || getFallbackImage(data.class, fullName);
                content += `
                    <div class="video-poster-container" onclick="window.open('${data.video}', '_blank')">
                        <img src="${posterUrl}" class="video-poster" alt="Video poster" 
                             onerror="this.src='${getFallbackImage(data.class, fullName)}'">
                        <div class="play-button"><i class="fas fa-play-circle"></i></div>
                    </div>
                    <a href="${data.video}" target="_blank" class="video-link">
                        <i class="fab fa-youtube"></i> Xem video minh họa
                    </a>`;
            }
            
            if (data.children && data.children.length > 0 && !data.info) {
                content += `<div class="mt-4"><strong>Các thành phần chính:</strong><ul>`;
                data.children.forEach(child => {
                    content += `<li>${child.name}</li>`;
                });
                content += `</ul></div>`;
            }
            
            // Thêm câu hỏi nếu có
            if (data.quiz) {
                content += generateQuizHTML(data.quiz);
            }
            
            infoPanel.html(content);
            
            // Xử lý ảnh sau khi render
            if (data.image) {
                const container = document.getElementById('current-image-container');
                const img = new Image();
                const fallbackUrl = getFallbackImage(data.class, fullName);
                
                // Thêm spinner loading
                const spinner = document.createElement('div');
                spinner.className = 'loading-spinner';
                spinner.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                container.appendChild(spinner);
                
                img.onload = function() {
                    spinner.remove();
                    this.className = 'info-image loaded';
                    container.innerHTML = '';
                    container.appendChild(this);
                };
                
                img.onerror = function() {
                    spinner.remove();
                    this.src = fallbackUrl;
                    this.onerror = null;
                    this.className = 'info-image loaded';
                    container.innerHTML = '';
                    container.appendChild(this);
                };
                
                img.src = data.image;
                img.alt = fullName;
            }
            
            // Thêm sự kiện cho câu hỏi
            if (data.quiz) {
                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.addEventListener('click', function() {
                        document.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                });
                
                const submitBtn = document.querySelector('.quiz-submit');
                if (submitBtn) {
                    submitBtn.addEventListener('click', function() {
                        const selectedOption = document.querySelector('.quiz-option.selected');
                        if (!selectedOption) {
                            alert("Vui lòng chọn một đáp án!");
                            return;
                        }
                        
                        const selectedIndex = parseInt(selectedOption.dataset.index);
                        const correctIndex = data.quiz.correctIndex;
                        const feedback = document.querySelector('.quiz-feedback');
                        
                        if (selectedIndex === correctIndex) {
                            feedback.innerHTML = `<i class="fas fa-check-circle"></i> <strong>Chính xác!</strong> ${data.quiz.explanation}`;
                            feedback.className = "quiz-feedback quiz-correct";
                        } else {
                            feedback.innerHTML = `<i class="fas fa-times-circle"></i> <strong>Sai rồi!</strong> ${data.quiz.explanation}`;
                            feedback.className = "quiz-feedback quiz-incorrect";
                        }
                        
                        feedback.style.display = "block";
                    });
                }
            }
        }

        // Tạo hiệu ứng highlight cho nút được chọn
        function highlightNode(node) {
            // Xóa highlight cũ
            d3.selectAll(".node-highlight").classed("node-highlight", false);
            
            // Thêm highlight mới
            d3.select(`#node-${node.id}`).select("circle")
                .classed("node-highlight", true);
        }

        // Tạo HTML cho câu hỏi
        function generateQuizHTML(quizData) {
            let html = `
                <div class="quiz-panel mt-4">
                    <h5><i class="fas fa-question-circle"></i> Câu hỏi kiểm tra nhanh:</h5>
                    <p>${quizData.question}</p>
                    <div>`;
            
            quizData.options.forEach((option, index) => {
                html += `
                    <div class="quiz-option" data-index="${index}">
                        <input type="radio" name="quiz" id="option${index}">
                        <label for="option${index}">${option}</label>
                    </div>`;
            });
            
            html += `
                    </div>
                    <button class="quiz-submit"><i class="fas fa-paper-plane"></i> Kiểm tra đáp án</button>
                    <div class="quiz-feedback"></div>
                </div>`;
            
            return html;
        }

        // Khởi tạo bảng thông tin
        updateInfoPanel({
            name: ["Kim loại màu", "và Hợp kim màu"],
            info: "Chào mừng bạn đến với sơ đồ tương tác về Kim loại màu và Hợp kim màu. Sơ đồ này cung cấp thông tin chi tiết về các loại kim loại màu phổ biến như đồng, nhôm và các hợp kim của chúng.<br><br>Hãy nhấp vào các nút trên sơ đồ để khám phá tính chất, ứng dụng và ký hiệu của từng loại vật liệu.",
            quiz: treeData.quiz
        });

        // Chức năng zoom
        d3.select("#zoom-in").on("click", function() {
            zoomLevel = Math.min(2, zoomLevel * 1.2);
            applyZoom();
        });

        d3.select("#zoom-out").on("click", function() {
            zoomLevel = Math.max(0.5, zoomLevel * 0.8);
            applyZoom();
        });

        d3.select("#reset-view").on("click", function() {
            zoomLevel = 1;
            transformX = 150;
            transformY = 30;
            applyZoom();
        });

        function applyZoom() {
            svgGroup.transition()
                .duration(300)
                .attr("transform", `translate(${transformX}, ${transformY}) scale(${zoomLevel})`);
        }

        // Tập trung vào nút khi được chọn
        function centerNode(node) {
            const containerWidth = document.getElementById("tree-container").clientWidth;
            const containerHeight = document.getElementById("tree-container").clientHeight;
            
            const targetX = containerWidth / 2 - node.y * zoomLevel;
            const targetY = containerHeight / 2 - node.x * zoomLevel;
            
            transformX = targetX;
            transformY = targetY;
            
            applyZoom();
        }

        // Chức năng tìm kiếm
        document.getElementById("search-input").addEventListener("input", function() {
            const searchTerm = this.value.toLowerCase().trim();
            const resultsContainer = document.getElementById("search-results");
            
            if (!searchTerm) {
                resultsContainer.style.display = "none";
                return;
            }
            
            const matches = nodesData.filter(node => 
                node.name.toLowerCase().includes(searchTerm)
            );
            
            if (matches.length > 0) {
                resultsContainer.innerHTML = matches.map(node => 
                    `<div class="search-item" data-id="${node.id}">${node.name}</div>`
                ).join("");
                resultsContainer.style.display = "block";
                
                // Thêm sự kiện cho kết quả tìm kiếm
                document.querySelectorAll(".search-item").forEach(item => {
                    item.addEventListener("click", function() {
                        const nodeId = parseInt(this.dataset.id);
                        const foundNode = root.descendants().find(node => node.id === nodeId);
                        
                        if (foundNode) {
                            updateInfoPanel(foundNode.data);
                            highlightNode(foundNode);
                            centerNode(foundNode);
                            
                            // Đóng kết quả tìm kiếm
                            resultsContainer.style.display = "none";
                        }
                    });
                });
            } else {
                resultsContainer.innerHTML = "<div class='search-item'>Không tìm thấy kết quả</div>";
                resultsContainer.style.display = "block";
            }
        });

        // Đóng kết quả tìm kiếm khi click ra ngoài
        document.addEventListener("click", function(e) {
            const resultsContainer = document.getElementById("search-results");
            if (resultsContainer.style.display === "block" && 
                !e.target.closest(".search-container")) {
                resultsContainer.style.display = "none";
            }
        });
    </script>
</body>
</html>